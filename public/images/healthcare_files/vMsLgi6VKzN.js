if (self.CavalryLogger) { CavalryLogger.start_js(["vwtR\/"]); }

__d('MessengerHotLikeSVG.react',['cssVar','cx','fbt','CurrentUser','MessengerEnvironment','React','joinClasses','uniqueID'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n='transparent',o=j._("Thumbs Up Sign");k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={titleId:c('uniqueID')()},r}p.prototype.render=function(){var q=c('CurrentUser').isWorkUser()?"#1479fb":"#0084ff",r=this.props.color||(c('MessengerEnvironment').messengerui?q:"#4080ff");return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_1i1j")},c('React').createElement('svg',{'aria-labelledby':this.state.titleId,height:'100%',role:'img',version:'1.1',viewBox:'0 0 381 400',width:'100%',x:'0px',y:'0px'},c('React').createElement('title',{id:this.state.titleId},o),c('React').createElement('g',null,c('React').createElement('g',null,c('React').createElement('path',{d:'M0,399.8h86.4V160.8H0V399.8z M381,220.7c0-13.6-7.4-25.5-18.5-31.8c8.8-6.6,14.5-17.4,14.5-29.3 c0-20.1-16.4-36.8-36.5-36.8H217c20.4-106.5-31.3-128.2-51.7-123c-12.3,3.1-13.6-0.3-11.4,24.2l3.4,42.7c0.3,3.5,0,7.2-0.8,10.8 c-0.8,3.6-2.7,6.9-4.6,10L106.8,160v208.7h195.3v-1.2c19.2-1.1,34.5-17.4,34.5-36.9c0-6.1-1.5-12-4.1-17 c17.3-2.8,30.4-18,30.4-36.1c0-8.2-2.7-15.9-7.4-22C370.1,250.8,381,237,381,220.7z',fill:r,stroke:n,strokeLinecap:'round',strokeWidth:'5%'})))))};p.propTypes={color:m.string};f.exports=p}),null);
__d('Sticker.react',['cx','fbt','Arbiter','MessengerHotLikeSVG.react','React','ReactDOM','PaddedStickerConfig','StickerConstants','emptyFunction','getElementPosition','getObjectValues','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=83,l=5000,m=10,n={CLICK:'click',HOVER:'hover',LOAD_AND_HOVER:'load_and_hover',ANIMATE_FOREVER:'animate_forever'},o=c('React').createClass({displayName:'Sticker',propTypes:{accessibilityLabel:j.string,animationTime:j.number,animationTrigger:j.oneOf(c('getObjectValues')(n)),forceCursorPointer:j.bool,frameCount:j.number.isRequired,frameRate:j.number,framesPerCol:j.number.isRequired,framesPerRow:j.number.isRequired,onAttachmentLoad:j.func,onStickerClick:j.func,packID:j.string,packName:j.string,sourceURI:j.string.isRequired,sourceWidth:j.number.isRequired,sourceHeight:j.number.isRequired,spriteURI:j.string,stickerID:j.string,subscribedThreadID:j.string,testID:j.string},getInitialState:function p(){return {index:0,hasAnimated:false,unsubscribeID:null}},getDefaultProps:function p(){return {animationTime:l,accessibilityLabel:'',forceCursorPointer:false,frameRate:k,onStickerClick:c('emptyFunction'),packID:null,packName:''}},componentDidMount:function p(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._stopIntervalID=0;if((this.props.animationTrigger===n.LOAD_AND_HOVER||this.props.animationTrigger===n.ANIMATE_FOREVER)&&this.props.frameCount>1&&this.props.spriteURI)this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount>1){var q=c('Arbiter').subscribe(this.props.subscribedThreadID,function(r,s){this.isScrolledIntoView(s.scrollTop,s.viewHeight,s.top)}.bind(this));this.setState({unsubscribeID:q})}},componentWillUnmount:function p(){if(this.state.unsubscribeID)c('Arbiter').unsubscribe(this.state.unsubscribeID);if(this.isAnimating())clearInterval(this._stopIntervalID);},isAnimating:function p(){return !!this._stopIntervalID},getWidth:function p(){return Math.floor(this.props.sourceWidth)},getHeight:function p(){return Math.floor(this.props.sourceHeight)},preloadSprite:function p(){var q=new window.Image();q.onload=function(){if(this.isMounted()&&!this.state.hasAnimated){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate)}}.bind(this);if(c('PaddedStickerConfig').ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){q.src=this.props.paddedSpriteURI}else q.src=this.props.spriteURI;},isScrolledIntoView:function p(q,r,s){var t=c('getElementPosition')(c('ReactDOM').findDOMNode(this)),u=q+t.y-s,v=q+r,w=u+t.height;if(this.props.frameCount>1&&!this.state.hasAnimated&&w-m<=v&&u+m>=q)this.startAnimation();},startAnimation:function p(){if(!this.state.hasAnimated&&this.props.spriteURI){this.preloadSprite()}else if(!this.isAnimating()){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate)}},stopAnimation:function p(){this.setState({index:0});clearInterval(this._stopIntervalID);this._stopIntervalID=0},toggleAnimation:function p(){if(this.isAnimating()){this.stopAnimation()}else this.startAnimation();},shouldStopAnimating:function p(){var q=this.state.index%this.props.frameCount;if(this.props.animationTrigger===n.ANIMATE_FOREVER)return false;if(!(q===0&&this.state.index*this.props.frameRate>this.props.animationTime))return false;if(this.props.animationTrigger===n.CLICK)return true;return !this.state.isHovered},incrementFrameIndex:function p(){if(this.shouldStopAnimating()){this.stopAnimation()}else this.setState({index:this.state.index+1});},getStyle:function p(){var q=0,r=this.props.spriteURI;if(c('PaddedStickerConfig').ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){r=this.props.paddedSpriteURI;var s=240/Math.min(this.getHeight(),this.getWidth());q=Math.floor(c('StickerConstants').SPRITE_PADDING/s)}var t=this.state.index%this.props.frameCount,u=t%this.props.framesPerRow*(this.getWidth()+q*2)+q,v=Math.floor(t/this.props.framesPerRow)*(this.getHeight()+q*2)+q,w=this.props.frameCount>1&&this.props.animationTrigger===n.CLICK||this._isStickerClickable(this.props.packID),x=this.props.forceCursorPointer||w?'pointer':'default';if(!this.state.hasAnimated||!this.props.spriteURI){return {backgroundImage:this._isHotLike()?null:'url('+this.props.sourceURI+')',backgroundRepeat:'no-repeat',backgroundSize:this.getWidth()+'px '+this.getHeight()+'px',cursor:x,height:this.getHeight(),width:this.getWidth()}}else return {backgroundImage:'url('+r+')',backgroundPosition:-u+'px '+ -v+'px',backgroundSize:(this.getWidth()+q*2)*this.props.framesPerRow+'px '+(this.getHeight()+q*2)*this.props.framesPerCol+'px',cursor:x,height:this.getHeight(),width:this.getWidth(),imageRendering:'-webkit-optimize-contrast'};},_isStickerClickable:function p(q){return q&&q!=c('StickerConstants').MOBILE_LIKE_STICKER_PACK_ID&&q!=c('StickerConstants').GRAVEYARD_PACK_ID},onStickerClick:function p(){if(!this._isStickerClickable(this.props.packID))return;if(this.props.onStickerClick)this.props.onStickerClick(this.props.packID,this.props.stickerID);},mouseLeft:function p(){this.setState({isHovered:false})},mouseEntered:function p(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation();},tabFocusSelected:function p(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation();},tabFocusUnselected:function p(){this.setState({isHovered:false})},getAriaLabel:function p(){return i._("{pack name} {sticker name} sticker",[i.param('pack name',this.props.packName),i.param('sticker name',this.props.accessibilityLabel)])},render:function p(){var q=void 0,r=void 0;if(this.props.animationTrigger===n.CLICK&&this.props.frameCount>1&&this.props.spriteURI){q=true}else if((this.props.animationTrigger===n.HOVER||this.props.animationTrigger===n.LOAD_AND_HOVER)&&this.props.frameCount>1&&this.props.spriteURI)r=true;var s=q?this.toggleAnimation:null;if(this.props.packID)s=this.onStickerClick;var t=this.props.className,u=null;if(this._isHotLike()){t=c('joinClasses')(t,"_576q");u=c('React').createElement(c('MessengerHotLikeSVG.react'),{color:this.props.customColor})}return c('React').createElement('div',{'aria-label':this.getAriaLabel(),className:t,'data-testid':this.props.testID,onBlur:this.tabFocusUnselected,onClick:s,onFocus:this.tabFocusSelected,onMouseEnter:r?this.mouseEntered:null,onMouseLeave:r?this.mouseLeft:null,role:'img',style:this.getStyle(),tabIndex:'0'},u)},_isHotLike:function p(){if(!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect)return this.props.stickerID===c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID;return false}});f.exports=o}),null);
__d("StickerUtils",[],(function a(b,c,d,e,f,g){var h={getScaledDimensions:function i(j,k,l){var m,n,o;if(k>j){o=l/k;m=j*o;n=k*o}else{o=l/j;m=j*o;n=k*o}return {height:Math.round(m),width:Math.round(n)}},capitalizeWords:function i(j){var k=j.split(" ");for(var l=0;l<k.length;l++){var m=k[l].charAt(0).toUpperCase();k[l]=m+k[l].substr(1)}return k.join(" ")}};f.exports=h}),null);
__d('ReactComposerStickerComponent.react',['ix','cx','fbt','Arbiter','Image.react','React','ReactComposerEvents','ReactComposerLoggingName','ReactComposerPrefillStore','ReactComposerTaggerActions','ReactComposerTaggerType','ShimButton.react','Sticker.react','StickerAssetType','StickerConstants','StickerUtils','XStickerAssetController','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerStickerComponent3=function(){c('ReactComposerTaggerActions').setTaggerData(this.props.composerID,c('ReactComposerLoggingName').STICKER_SPROUT,c('ReactComposerTaggerType').STICKER,null)}.bind(this),this.$ReactComposerStickerComponent4=function(){var s=c('ReactComposerPrefillStore').getAndEraseNestedField(this.props.composerID,['taggersData',c('ReactComposerTaggerType').STICKER]);if(s)c('ReactComposerTaggerActions').setTaggerDataWithoutLogging(this.props.composerID,c('ReactComposerTaggerType').STICKER,s);}.bind(this),o}m.prototype.render=function(){'use strict';if(!(this.props.sticker&&this.props.sticker.stickerID))return null;var n=c('StickerUtils').getScaledDimensions(c('StickerConstants').TRAY_SIZE,c('StickerConstants').TRAY_SIZE,c('StickerConstants').TRAY_SIZE),o=n.height,p=n.width,q=c('XStickerAssetController').getURIBuilder().setInt('sticker_id',this.props.sticker.stickerID),r=c('React').createElement(c('Sticker.react'),{accessibilityLabel:this.props.sticker.accessibilityLabel,animationTrigger:'load_and_hover',frameCount:1,frameRate:c('StickerConstants').DEFAULT_FRAME_RATE,framesPerCol:1,framesPerRow:1,sourceHeight:o,sourceURI:q.setEnum('image_type',c('StickerAssetType').IMAGE).getURI().toString(),sourceWidth:p,stickerID:this.props.sticker.stickerID.toString(),className:"_x85"});return c('React').createElement('div',{className:"_x88"},c('React').createElement('span',{className:"_x8a"},r,this.$ReactComposerStickerComponent2()))};m.prototype.$ReactComposerStickerComponent2=function(){'use strict';return c('React').createElement(c('ShimButton.react'),{className:"_x8b",onClick:this.$ReactComposerStickerComponent3},c('React').createElement(c('Image.react'),{alt:j._("Remove sticker"),src:h("125920")}))};m.prototype.componentWillMount=function(){'use strict';this.$ReactComposerStickerComponent4();this.$ReactComposerStickerComponent1=c('Arbiter').subscribe(c('ReactComposerEvents').SET_PREFILL_DATA+this.context.composerID,this.$ReactComposerStickerComponent4)};m.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerStickerComponent1&&this.$ReactComposerStickerComponent1.unsubscribe();this.$ReactComposerStickerComponent1=null};f.exports=m}),null);