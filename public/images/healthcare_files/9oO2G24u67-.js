if (self.CavalryLogger) { CavalryLogger.start_js(["9shpG"]); }

__d('FantaTabSheetAddMoreFriends.react',['cx','fbt','ChatOpenTabEventLogger','DOM','FantaMessageActions','FantaTabSheetActions','MessengerAdminGroupUtils','React','SubscriptionsHandler','WorkModeConfig','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=0;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.$FantaTabSheetAddMoreFriends1=false;this.$FantaTabSheetAddMoreFriends2='add-more-friends-'+m++;this.$FantaTabSheetAddMoreFriends6=function(){var p=this.props,q=p.typeahead,r=p.threadID,s=p.thread;if(!q||!s)return;if(q.getTokens().length===0){c('FantaTabSheetActions').closeAddMoreFriendsSheet(r)}else c('FantaMessageActions').sendGroupMessage(r,function(){return c('ChatOpenTabEventLogger').logClickOpen('FantaAddMoreFriendsSheet',r)});}.bind(this);this.$FantaTabSheetAddMoreFriends3=new (c('SubscriptionsHandler'))()}n.prototype.componentDidMount=function(){this.$FantaTabSheetAddMoreFriends5()};n.prototype.componentDidUpdate=function(){this.$FantaTabSheetAddMoreFriends5()};n.prototype.componentWillUnmount=function(){this.$FantaTabSheetAddMoreFriends3.release()};n.prototype.$FantaTabSheetAddMoreFriends5=function(){var o=this.props,p=o.thread,q=o.typeahead;if(!q||!p||this.$FantaTabSheetAddMoreFriends1)return;this.$FantaTabSheetAddMoreFriends1=true;var r=void 0;if(c('WorkModeConfig').is_work_user){r=i._("Add co-workers to this chat")}else if(c('MessengerAdminGroupUtils').shouldInvite(p)){r=i._("Invite friends to this chat")}else r=i._("Add friends to this chat");q.setPlaceholder(r);q.build();var s=q.getElement();c('DOM').appendContent(this.$FantaTabSheetAddMoreFriends4,s);q.getTokenizer().adjustWidth();q.focus();this.$FantaTabSheetAddMoreFriends3.addSubscriptions(q.subscribe('tokens-return',this.$FantaTabSheetAddMoreFriends6));var t=c('DOM').scry(this.$FantaTabSheetAddMoreFriends4,'input[type="text"]')[0];if(t)t.setAttribute('aria-labelledby',this.$FantaTabSheetAddMoreFriends2);};n.prototype.render=function(){return c('React').createElement('div',{className:"_22zr"},c('React').createElement('div',{className:"_22zw",ref:function(o){return this.$FantaTabSheetAddMoreFriends4=o}.bind(this)}),c('React').createElement(c('XUIButton.react'),{className:"_22zx _3-99",label:i._("Done"),onClick:this.$FantaTabSheetAddMoreFriends6,tabIndex:'0',type:'submit',use:'confirm'}))};n.propTypes={thread:l.object,threadID:l.string.isRequired,typeahead:l.object};f.exports=n}),null);